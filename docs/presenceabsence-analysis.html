<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Presence/Absence Analysis | ‘celltracktech’ Data Analysis package</title>
  <meta name="description" content="This is a manual for the R package ‘celltracktech’" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Presence/Absence Analysis | ‘celltracktech’ Data Analysis package" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a manual for the R package ‘celltracktech’" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Presence/Absence Analysis | ‘celltracktech’ Data Analysis package" />
  
  <meta name="twitter:description" content="This is a manual for the R package ‘celltracktech’" />
  

<meta name="author" content="Jessica Gorzo" />


<meta name="date" content="2025-05-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="CTT-FB-logo-STACKED.jpg" type="image/x-icon" />
<link rel="prev" href="node-calibration.html"/>
<link rel="next" href="activity-budget.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CTT Data Tools</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> AOS2024 - ‘celltracktech’ Workshop</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#additional-libraries-needed-linux-users"><i class="fa fa-check"></i><b>1.1</b> Additional Libraries Needed (Linux users)</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#install-postgresql-libraries"><i class="fa fa-check"></i><b>1.1.1</b> Install PostgreSQL libraries</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#installing-r-spatial-on-ubuntu"><i class="fa fa-check"></i><b>1.1.2</b> Installing R Spatial on Ubuntu</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="project-setup.html"><a href="project-setup.html"><i class="fa fa-check"></i><b>2</b> Project Setup</a>
<ul>
<li class="chapter" data-level="2.1" data-path="project-setup.html"><a href="project-setup.html#create-an-r-studio-project"><i class="fa fa-check"></i><b>2.1</b> Create an R Studio Project</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="project-setup.html"><a href="project-setup.html#git"><i class="fa fa-check"></i><b>2.1.1</b> Git</a></li>
<li class="chapter" data-level="2.1.2" data-path="project-setup.html"><a href="project-setup.html#renv"><i class="fa fa-check"></i><b>2.1.2</b> <code>renv</code></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="project-setup.html"><a href="project-setup.html#request-an-api-token"><i class="fa fa-check"></i><b>2.2</b> Request an API token</a></li>
<li class="chapter" data-level="2.3" data-path="project-setup.html"><a href="project-setup.html#create-a-.env-file"><i class="fa fa-check"></i><b>2.3</b> Create a ‘.env’ file</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="project-setup.html"><a href="project-setup.html#load-the-api-key-into-your-rstudio-environment"><i class="fa fa-check"></i><b>2.3.1</b> Load the API key into your RStudio environment</a></li>
<li class="chapter" data-level="2.3.2" data-path="project-setup.html"><a href="project-setup.html#add-.env-file-to-.gitignore"><i class="fa fa-check"></i><b>2.3.2</b> Add .env file to .gitignore</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="project-setup.html"><a href="project-setup.html#organize-your-project-directory"><i class="fa fa-check"></i><b>2.4</b> Organize your Project Directory</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="download-data.html"><a href="download-data.html"><i class="fa fa-check"></i><b>3</b> Download Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="download-data.html"><a href="download-data.html#create-a-duckdb-database"><i class="fa fa-check"></i><b>3.1</b> Create a DuckDB database</a></li>
<li class="chapter" data-level="3.2" data-path="download-data.html"><a href="download-data.html#download-data-from-the-ctt-api"><i class="fa fa-check"></i><b>3.2</b> Download data from the CTT API</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="download-data.html"><a href="download-data.html#create-database-from-files-on-your-computer"><i class="fa fa-check"></i><b>3.2.1</b> Create Database from Files on your Computer</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="download-data.html"><a href="download-data.html#updating-the-database"><i class="fa fa-check"></i><b>3.3</b> Updating the database</a></li>
<li class="chapter" data-level="3.4" data-path="download-data.html"><a href="download-data.html#disconnecting-from-the-database"><i class="fa fa-check"></i><b>3.4</b> Disconnecting from the database</a></li>
<li class="chapter" data-level="3.5" data-path="download-data.html"><a href="download-data.html#uploading-node-data-from-the-sd-card"><i class="fa fa-check"></i><b>3.5</b> Uploading Node Data from the SD Card</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="download-data.html"><a href="download-data.html#create-nodes-directory"><i class="fa fa-check"></i><b>3.5.1</b> Create Nodes directory</a></li>
<li class="chapter" data-level="3.5.2" data-path="download-data.html"><a href="download-data.html#create-individual-directories-for-each-node"><i class="fa fa-check"></i><b>3.5.2</b> Create individual directories for each Node</a></li>
<li class="chapter" data-level="3.5.3" data-path="download-data.html"><a href="download-data.html#upload-node-data-to-your-duckdb-database"><i class="fa fa-check"></i><b>3.5.3</b> Upload Node data to your DuckDB database</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="download-data.html"><a href="download-data.html#create-postgres-database"><i class="fa fa-check"></i><b>3.6</b> Create Postgres Database</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="obtaining-data-from-database.html"><a href="obtaining-data-from-database.html"><i class="fa fa-check"></i><b>4</b> Obtaining Data from Database</a>
<ul>
<li class="chapter" data-level="4.1" data-path="obtaining-data-from-database.html"><a href="obtaining-data-from-database.html#duckplyr"><i class="fa fa-check"></i><b>4.1</b> Duckplyr</a></li>
<li class="chapter" data-level="4.2" data-path="obtaining-data-from-database.html"><a href="obtaining-data-from-database.html#sql-queries"><i class="fa fa-check"></i><b>4.2</b> SQL Queries</a></li>
<li class="chapter" data-level="4.3" data-path="obtaining-data-from-database.html"><a href="obtaining-data-from-database.html#list-tables"><i class="fa fa-check"></i><b>4.3</b> List Tables</a></li>
<li class="chapter" data-level="4.4" data-path="obtaining-data-from-database.html"><a href="obtaining-data-from-database.html#find-unique-tags-in-raw-table"><i class="fa fa-check"></i><b>4.4</b> Find unique tags in <code>raw</code> table</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="node-check.html"><a href="node-check.html"><i class="fa fa-check"></i><b>5</b> Node Check</a>
<ul>
<li class="chapter" data-level="5.1" data-path="node-check.html"><a href="node-check.html#node-health"><i class="fa fa-check"></i><b>5.1</b> Node Health</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="node-check.html"><a href="node-check.html#node-health---check-health-records"><i class="fa fa-check"></i><b>5.1.1</b> Node Health - Check Health Records</a></li>
<li class="chapter" data-level="5.1.2" data-path="node-check.html"><a href="node-check.html#battery-and-solar-levels"><i class="fa fa-check"></i><b>5.1.2</b> Battery and Solar Levels</a></li>
<li class="chapter" data-level="5.1.3" data-path="node-check.html"><a href="node-check.html#check-gps"><i class="fa fa-check"></i><b>5.1.3</b> Check GPS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="node-calibration.html"><a href="node-calibration.html"><i class="fa fa-check"></i><b>6</b> Node Calibration</a>
<ul>
<li class="chapter" data-level="6.1" data-path="node-calibration.html"><a href="node-calibration.html#load-sidekick-data-file"><i class="fa fa-check"></i><b>6.1</b> Load sidekick data file</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="node-calibration.html"><a href="node-calibration.html#if-you-do-not-have-a-sidekick-data-file"><i class="fa fa-check"></i><b>6.1.1</b> IF YOU DO NOT HAVE A SIDEKICK DATA FILE:</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="node-calibration.html"><a href="node-calibration.html#setup"><i class="fa fa-check"></i><b>6.2</b> Setup</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="node-calibration.html"><a href="node-calibration.html#load-environmental-variables-into-rstudio"><i class="fa fa-check"></i><b>6.2.1</b> Load environmental variables into RStudio</a></li>
<li class="chapter" data-level="6.2.2" data-path="node-calibration.html"><a href="node-calibration.html#load-settings"><i class="fa fa-check"></i><b>6.2.2</b> Load settings</a></li>
<li class="chapter" data-level="6.2.3" data-path="node-calibration.html"><a href="node-calibration.html#load-node-health-data-from-files"><i class="fa fa-check"></i><b>6.2.3</b> Load Node Health Data from Files</a></li>
<li class="chapter" data-level="6.2.4" data-path="node-calibration.html"><a href="node-calibration.html#get-node-locations"><i class="fa fa-check"></i><b>6.2.4</b> Get Node Locations</a></li>
<li class="chapter" data-level="6.2.5" data-path="node-calibration.html"><a href="node-calibration.html#load-station-detection-from-files"><i class="fa fa-check"></i><b>6.2.5</b> Load Station Detection from Files</a></li>
<li class="chapter" data-level="6.2.6" data-path="node-calibration.html"><a href="node-calibration.html#load-sidekick-calibration-data"><i class="fa fa-check"></i><b>6.2.6</b> Load Sidekick Calibration Data</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="node-calibration.html"><a href="node-calibration.html#calculate-the-rssi-vs.-distance-relationship"><i class="fa fa-check"></i><b>6.3</b> Calculate the RSSI vs. Distance Relationship</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html"><i class="fa fa-check"></i><b>7</b> Presence/Absence Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html#set-parameters"><i class="fa fa-check"></i><b>7.1</b> Set parameters</a></li>
<li class="chapter" data-level="7.2" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html#load-data-from-database-1"><i class="fa fa-check"></i><b>7.2</b> Load data from database</a></li>
<li class="chapter" data-level="7.3" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html#load-tag-deployment-info"><i class="fa fa-check"></i><b>7.3</b> Load Tag Deployment Info</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html#load-tag-deployment-file"><i class="fa fa-check"></i><b>7.3.1</b> Load Tag Deployment File</a></li>
<li class="chapter" data-level="7.3.2" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html#get-list-of-detected-tags"><i class="fa fa-check"></i><b>7.3.2</b> Get List of Detected Tags</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html#generate-detection-summary"><i class="fa fa-check"></i><b>7.4</b> Generate Detection Summary</a></li>
<li class="chapter" data-level="7.5" data-path="presenceabsence-analysis.html"><a href="presenceabsence-analysis.html#show-detection-history-for-a-specific-tag"><i class="fa fa-check"></i><b>7.5</b> Show Detection History for a Specific Tag</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="activity-budget.html"><a href="activity-budget.html"><i class="fa fa-check"></i><b>8</b> Activity Budget</a>
<ul>
<li class="chapter" data-level="8.1" data-path="activity-budget.html"><a href="activity-budget.html#load-settings-1"><i class="fa fa-check"></i><b>8.1</b> Load settings</a></li>
<li class="chapter" data-level="8.2" data-path="activity-budget.html"><a href="activity-budget.html#load-tag-node-detection-data"><i class="fa fa-check"></i><b>8.2</b> Load Tag Node Detection Data</a></li>
<li class="chapter" data-level="8.3" data-path="activity-budget.html"><a href="activity-budget.html#tag-activity"><i class="fa fa-check"></i><b>8.3</b> Tag Activity</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="activity-budget.html"><a href="activity-budget.html#scatter-plot-of-rssi-vs-time-by-node"><i class="fa fa-check"></i><b>8.3.1</b> Scatter Plot of RSSI vs time by Node</a></li>
<li class="chapter" data-level="8.3.2" data-path="activity-budget.html"><a href="activity-budget.html#scatter-plot-of-activity-vs-time-by-node"><i class="fa fa-check"></i><b>8.3.2</b> Scatter Plot of activity vs time by Node</a></li>
<li class="chapter" data-level="8.3.3" data-path="activity-budget.html"><a href="activity-budget.html#d-histogram-of-activity-over-time"><i class="fa fa-check"></i><b>8.3.3</b> 2D Histogram of Activity over Time</a></li>
<li class="chapter" data-level="8.3.4" data-path="activity-budget.html"><a href="activity-budget.html#d-histogram-of-activity-vs-time-with-avg-activity"><i class="fa fa-check"></i><b>8.3.4</b> 2D histogram of activity vs time WITH avg activity</a></li>
<li class="chapter" data-level="8.3.5" data-path="activity-budget.html"><a href="activity-budget.html#avg-activity-hour-vs-time."><i class="fa fa-check"></i><b>8.3.5</b> Avg activity / hour Vs time.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="habitat-use.html"><a href="habitat-use.html"><i class="fa fa-check"></i><b>9</b> Habitat Use</a>
<ul>
<li class="chapter" data-level="9.1" data-path="habitat-use.html"><a href="habitat-use.html#load-libraries-and-settings"><i class="fa fa-check"></i><b>9.1</b> Load libraries and settings</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="habitat-use.html"><a href="habitat-use.html#activate-renv"><i class="fa fa-check"></i><b>9.1.1</b> Activate renv</a></li>
<li class="chapter" data-level="9.1.2" data-path="habitat-use.html"><a href="habitat-use.html#load-libraries-and-settings-1"><i class="fa fa-check"></i><b>9.1.2</b> Load libraries and settings</a></li>
<li class="chapter" data-level="9.1.3" data-path="habitat-use.html"><a href="habitat-use.html#load-functions"><i class="fa fa-check"></i><b>9.1.3</b> Load Functions</a></li>
<li class="chapter" data-level="9.1.4" data-path="habitat-use.html"><a href="habitat-use.html#load-rssi-coefficients"><i class="fa fa-check"></i><b>9.1.4</b> Load RSSI Coefficients</a></li>
<li class="chapter" data-level="9.1.5" data-path="habitat-use.html"><a href="habitat-use.html#load-settings-2"><i class="fa fa-check"></i><b>9.1.5</b> Load Settings</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="habitat-use.html"><a href="habitat-use.html#load-node-health-data-from-files-1"><i class="fa fa-check"></i><b>9.2</b> Load Node Health Data from Files</a></li>
<li class="chapter" data-level="9.3" data-path="habitat-use.html"><a href="habitat-use.html#get-node-locations-1"><i class="fa fa-check"></i><b>9.3</b> Get Node Locations</a></li>
<li class="chapter" data-level="9.4" data-path="habitat-use.html"><a href="habitat-use.html#load-station-detection-data"><i class="fa fa-check"></i><b>9.4</b> Load Station Detection Data</a></li>
<li class="chapter" data-level="9.5" data-path="habitat-use.html"><a href="habitat-use.html#build-a-grid"><i class="fa fa-check"></i><b>9.5</b> Build a Grid</a></li>
<li class="chapter" data-level="9.6" data-path="habitat-use.html"><a href="habitat-use.html#calculate-locations"><i class="fa fa-check"></i><b>9.6</b> Calculate Locations</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html"><i class="fa fa-check"></i><b>10</b> Grid Search Analysis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#loading-settings"><i class="fa fa-check"></i><b>10.1</b> Loading Settings</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#activate-renv-1"><i class="fa fa-check"></i><b>10.1.1</b> Activate renv</a></li>
<li class="chapter" data-level="10.1.2" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#load-libraries"><i class="fa fa-check"></i><b>10.1.2</b> Load libraries</a></li>
<li class="chapter" data-level="10.1.3" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#load-settings-3"><i class="fa fa-check"></i><b>10.1.3</b> Load settings</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#load-node-health-data-from-database"><i class="fa fa-check"></i><b>10.2</b> Load Node Health data from Database</a></li>
<li class="chapter" data-level="10.3" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#get-node-locations-2"><i class="fa fa-check"></i><b>10.3</b> Get Node Locations</a></li>
<li class="chapter" data-level="10.4" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#load-station-detection-data-1"><i class="fa fa-check"></i><b>10.4</b> Load Station Detection Data</a></li>
<li class="chapter" data-level="10.5" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#build-a-node-grid"><i class="fa fa-check"></i><b>10.5</b> Build a Node Grid</a></li>
<li class="chapter" data-level="10.6" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#optional-calculate-test-solution"><i class="fa fa-check"></i><b>10.6</b> (Optional) Calculate Test Solution</a></li>
<li class="chapter" data-level="10.7" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#calculate-track"><i class="fa fa-check"></i><b>10.7</b> Calculate Track</a></li>
<li class="chapter" data-level="10.8" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#optional-compare-with-known-track"><i class="fa fa-check"></i><b>10.8</b> (Optional) Compare with Known Track</a></li>
<li class="chapter" data-level="10.9" data-path="grid-search-analysis.html"><a href="grid-search-analysis.html#plot-uncertainty-analysis"><i class="fa fa-check"></i><b>10.9</b> Plot Uncertainty Analysis</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="multilateration.html"><a href="multilateration.html"><i class="fa fa-check"></i><b>11</b> Multilateration</a>
<ul>
<li class="chapter" data-level="11.1" data-path="multilateration.html"><a href="multilateration.html#load-settings-4"><i class="fa fa-check"></i><b>11.1</b> Load settings</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="multilateration.html"><a href="multilateration.html#reset-rs-brain-remove-all-previous-objects"><i class="fa fa-check"></i><b>11.1.1</b> Reset R’s brain, remove all previous objects</a></li>
<li class="chapter" data-level="11.1.2" data-path="multilateration.html"><a href="multilateration.html#load-libraries-1"><i class="fa fa-check"></i><b>11.1.2</b> Load libraries</a></li>
<li class="chapter" data-level="11.1.3" data-path="multilateration.html"><a href="multilateration.html#re-create-sample-data-from-node-calibration-chapter-5"><i class="fa fa-check"></i><b>11.1.3</b> Re-create sample data from node calibration (Chapter 5)</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="multilateration.html"><a href="multilateration.html#isolate-raw-received-signal-strength-rss-data-from-node-network-associated-with-test-data"><i class="fa fa-check"></i><b>11.2</b> Isolate raw Received Signal Strength (RSS) data from Node network associated with Test Data</a></li>
<li class="chapter" data-level="11.3" data-path="multilateration.html"><a href="multilateration.html#exponential-decay-function---relationship-between-distance-and-tag-rss-values"><i class="fa fa-check"></i><b>11.3</b> Exponential Decay Function - Relationship between Distance and Tag RSS Values</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="multilateration.html"><a href="multilateration.html#preliminary-exponential-decay-model---determine-starting-values-for-the-final-model"><i class="fa fa-check"></i><b>11.3.1</b> Preliminary Exponential Decay Model - Determine starting values for the final model</a></li>
<li class="chapter" data-level="11.3.2" data-path="multilateration.html"><a href="multilateration.html#final-exponential-decay-model"><i class="fa fa-check"></i><b>11.3.2</b> Final Exponential Decay Model</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">‘celltracktech’ Data Analysis package</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="presenceabsence-analysis" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Presence/Absence Analysis<a href="presenceabsence-analysis.html#presenceabsence-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This type of analysis can be used to answer questions on stopover duration or for threat monitoring at airports, windmills, etc.</p>
<p>You will need to manually create a tag deployment csv file. This file will contain:
* the tag id (all uppercase)
* the tag deployment date
* the standardized 4-letter Alpha code (if your study involves birds)
* the tag type (Power, Life, Blu)
* the antenna type (1/8 wave)
* any other characteristics of the individual wearing the tag (sex, weight, etc.).</p>
<p>Ex.</p>
<table>
<thead>
<tr class="header">
<th>TagId</th>
<th>DeployDate</th>
<th>Species</th>
<th>TagType</th>
<th>AntennaType</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>332D074B</td>
<td>09/03/23</td>
<td>NOWA</td>
<td>Power</td>
<td>1/8 wave</td>
</tr>
<tr class="even">
<td>664C5219</td>
<td>08/23/23</td>
<td>NOWA</td>
<td>Power</td>
<td>1/8 wave</td>
</tr>
<tr class="odd">
<td>4C2A0707</td>
<td>08/20/23</td>
<td>NOWA</td>
<td>Power</td>
<td>1/8 wave</td>
</tr>
</tbody>
</table>
<p>Then move that tag deployment file into the ‘outpath’ folder.</p>
<p>The <code>celltracktech</code> package includes the deployments data for the Meadows V2 project. We will import it into the RStudio environment and save it as a .csv file in the <code>data/Meadows V2/</code> folder for this tutorial.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="presenceabsence-analysis.html#cb43-1" tabindex="-1"></a><span class="fu">write_csv</span>(celltracktech<span class="sc">::</span>deployments, <span class="st">&#39;./data/Meadows V2/meadows_deployments_2023.csv&#39;</span>)</span></code></pre></div>
<p>If you are using your own data, move your project-specific deployments .csv file into your <code>data/&lt;project name&gt;/</code> folder.</p>
<p>We are now ready to start calculating presence/absence.</p>
<div id="set-parameters" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Set parameters<a href="presenceabsence-analysis.html#set-parameters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="presenceabsence-analysis.html#cb44-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">10</span>)</span>
<span id="cb44-2"><a href="presenceabsence-analysis.html#cb44-2" tabindex="-1"></a></span>
<span id="cb44-3"><a href="presenceabsence-analysis.html#cb44-3" tabindex="-1"></a><span class="co"># Specify the path to your database file</span></span>
<span id="cb44-4"><a href="presenceabsence-analysis.html#cb44-4" tabindex="-1"></a>database_file <span class="ot">&lt;-</span> <span class="st">&quot;./data/Meadows V2/meadows.duckdb&quot;</span></span>
<span id="cb44-5"><a href="presenceabsence-analysis.html#cb44-5" tabindex="-1"></a></span>
<span id="cb44-6"><a href="presenceabsence-analysis.html#cb44-6" tabindex="-1"></a><span class="co"># Specify the path to the deployment info file</span></span>
<span id="cb44-7"><a href="presenceabsence-analysis.html#cb44-7" tabindex="-1"></a>deployment_info_file <span class="ot">&lt;-</span> <span class="st">&quot;data/Meadows V2/meadows_deployments_2023.csv&quot;</span></span>
<span id="cb44-8"><a href="presenceabsence-analysis.html#cb44-8" tabindex="-1"></a></span>
<span id="cb44-9"><a href="presenceabsence-analysis.html#cb44-9" tabindex="-1"></a><span class="co"># Specify the time range of node data you want to import for this analysis</span></span>
<span id="cb44-10"><a href="presenceabsence-analysis.html#cb44-10" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2023-08-01 00:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;GMT&quot;</span>)</span>
<span id="cb44-11"><a href="presenceabsence-analysis.html#cb44-11" tabindex="-1"></a>stop_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2023-12-31 00:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;GMT&quot;</span>)</span></code></pre></div>
</div>
<div id="load-data-from-database-1" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Load data from database<a href="presenceabsence-analysis.html#load-data-from-database-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="presenceabsence-analysis.html#cb45-1" tabindex="-1"></a><span class="co"># Load from DB</span></span>
<span id="cb45-2"><a href="presenceabsence-analysis.html#cb45-2" tabindex="-1"></a>con <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(duckdb<span class="sc">::</span><span class="fu">duckdb</span>(), </span>
<span id="cb45-3"><a href="presenceabsence-analysis.html#cb45-3" tabindex="-1"></a>                      <span class="at">dbdir =</span> database_file, </span>
<span id="cb45-4"><a href="presenceabsence-analysis.html#cb45-4" tabindex="-1"></a>                      <span class="at">read_only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-5"><a href="presenceabsence-analysis.html#cb45-5" tabindex="-1"></a></span>
<span id="cb45-6"><a href="presenceabsence-analysis.html#cb45-6" tabindex="-1"></a><span class="co"># load the raw data table in to RStudio and subset it based on your start and stop times</span></span>
<span id="cb45-7"><a href="presenceabsence-analysis.html#cb45-7" tabindex="-1"></a>detection_df <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con, <span class="st">&quot;raw&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-8"><a href="presenceabsence-analysis.html#cb45-8" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">&gt;=</span> start_time <span class="sc">&amp;</span> time <span class="sc">&lt;=</span> stop_time) <span class="sc">|&gt;</span></span>
<span id="cb45-9"><a href="presenceabsence-analysis.html#cb45-9" tabindex="-1"></a>  <span class="fu">collect</span>()</span>
<span id="cb45-10"><a href="presenceabsence-analysis.html#cb45-10" tabindex="-1"></a></span>
<span id="cb45-11"><a href="presenceabsence-analysis.html#cb45-11" tabindex="-1"></a><span class="co"># if you study uses blu tags, load the blu data table into RStudio</span></span>
<span id="cb45-12"><a href="presenceabsence-analysis.html#cb45-12" tabindex="-1"></a><span class="co"># detection_blu &lt;- tbl(con, &quot;blu&quot;) |&gt; </span></span>
<span id="cb45-13"><a href="presenceabsence-analysis.html#cb45-13" tabindex="-1"></a><span class="co">#   filter(time &gt;= start_time &amp; time &lt;= stop_time) |&gt;</span></span>
<span id="cb45-14"><a href="presenceabsence-analysis.html#cb45-14" tabindex="-1"></a><span class="co">#   collect()</span></span>
<span id="cb45-15"><a href="presenceabsence-analysis.html#cb45-15" tabindex="-1"></a></span>
<span id="cb45-16"><a href="presenceabsence-analysis.html#cb45-16" tabindex="-1"></a><span class="co"># disconnect from database</span></span>
<span id="cb45-17"><a href="presenceabsence-analysis.html#cb45-17" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbDisconnect</span>(con)</span></code></pre></div>
</div>
<div id="load-tag-deployment-info" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Load Tag Deployment Info<a href="presenceabsence-analysis.html#load-tag-deployment-info" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="load-tag-deployment-file" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Load Tag Deployment File<a href="presenceabsence-analysis.html#load-tag-deployment-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Again, you will need to create this file yourself. You might want to include other info about the individuals in this file for later analysis (species, weight, sex, etc.).</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="presenceabsence-analysis.html#cb46-1" tabindex="-1"></a>deployment_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(deployment_info_file)</span></code></pre></div>
</div>
<div id="get-list-of-detected-tags" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Get List of Detected Tags<a href="presenceabsence-analysis.html#get-list-of-detected-tags" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="presenceabsence-analysis.html#cb47-1" tabindex="-1"></a><span class="co"># count the number of detections for each tag. the minimum number of detections to be included in this dataframe is 250000. You can set the `min_det_count` to whatever is appropriate for your study.</span></span>
<span id="cb47-2"><a href="presenceabsence-analysis.html#cb47-2" tabindex="-1"></a>tag_det_count <span class="ot">&lt;-</span> <span class="fu">get_tag_detection_count</span>(detection_df, <span class="at">min_det_count =</span> <span class="dv">250000</span>)</span>
<span id="cb47-3"><a href="presenceabsence-analysis.html#cb47-3" tabindex="-1"></a></span>
<span id="cb47-4"><a href="presenceabsence-analysis.html#cb47-4" tabindex="-1"></a><span class="co"># plot the number of detections for each individual tag</span></span>
<span id="cb47-5"><a href="presenceabsence-analysis.html#cb47-5" tabindex="-1"></a><span class="fu">ggplot</span>(tag_det_count, </span>
<span id="cb47-6"><a href="presenceabsence-analysis.html#cb47-6" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(<span class="at">x =</span> tag_id,</span>
<span id="cb47-7"><a href="presenceabsence-analysis.html#cb47-7" tabindex="-1"></a>                      <span class="at">levels =</span> tag_id), </span>
<span id="cb47-8"><a href="presenceabsence-analysis.html#cb47-8" tabindex="-1"></a>           <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb47-9"><a href="presenceabsence-analysis.html#cb47-9" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-10"><a href="presenceabsence-analysis.html#cb47-10" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb47-11"><a href="presenceabsence-analysis.html#cb47-11" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Tag ID&quot;</span>, </span>
<span id="cb47-12"><a href="presenceabsence-analysis.html#cb47-12" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Detection Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-13"><a href="presenceabsence-analysis.html#cb47-13" tabindex="-1"></a>  <span class="fu">tag_hist_plot_theme</span>()</span></code></pre></div>
<div class="float">
<img src="images/presence_absence_detected_tags_histogram.png" alt="Number of detections per tag" />
<div class="figcaption">Number of detections per tag</div>
</div>
</div>
</div>
<div id="generate-detection-summary" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Generate Detection Summary<a href="presenceabsence-analysis.html#generate-detection-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While it is good to know how many detections an individual tag has, it is better to know how many detections there were across time. The code chunk below will subset your <code>detection_df</code> based on the tags in your tag deployment file, and create a plot of detections across time.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="presenceabsence-analysis.html#cb48-1" tabindex="-1"></a><span class="co"># Discard detections that aren&#39;t from deployed tags</span></span>
<span id="cb48-2"><a href="presenceabsence-analysis.html#cb48-2" tabindex="-1"></a>detection_df <span class="ot">&lt;-</span> <span class="fu">subset.data.frame</span>(detection_df, </span>
<span id="cb48-3"><a href="presenceabsence-analysis.html#cb48-3" tabindex="-1"></a>                                  tag_id <span class="sc">%in%</span> deployment_df<span class="sc">$</span>TagId) <span class="sc">|&gt;</span></span>
<span id="cb48-4"><a href="presenceabsence-analysis.html#cb48-4" tabindex="-1"></a>                              <span class="fu">filter</span>(<span class="fu">is.na</span>(tag_id) <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb48-5"><a href="presenceabsence-analysis.html#cb48-5" tabindex="-1"></a></span>
<span id="cb48-6"><a href="presenceabsence-analysis.html#cb48-6" tabindex="-1"></a><span class="co"># OPTIONAL: You can select individual species here</span></span>
<span id="cb48-7"><a href="presenceabsence-analysis.html#cb48-7" tabindex="-1"></a><span class="co"># subsetting the deployment dataframe to only include NOWA or northern waterthrush</span></span>
<span id="cb48-8"><a href="presenceabsence-analysis.html#cb48-8" tabindex="-1"></a>deployment_df <span class="ot">&lt;-</span> <span class="fu">subset.data.frame</span>(deployment_df,</span>
<span id="cb48-9"><a href="presenceabsence-analysis.html#cb48-9" tabindex="-1"></a>                                   Species <span class="sc">==</span> <span class="st">&quot;NOWA&quot;</span>)</span>
<span id="cb48-10"><a href="presenceabsence-analysis.html#cb48-10" tabindex="-1"></a><span class="co"># detection_df &lt;- subset.data.frame(detection_df,TagId %in% deployment_df$TagId)</span></span>
<span id="cb48-11"><a href="presenceabsence-analysis.html#cb48-11" tabindex="-1"></a></span>
<span id="cb48-12"><a href="presenceabsence-analysis.html#cb48-12" tabindex="-1"></a>det_summary_df <span class="ot">&lt;-</span> <span class="fu">detection_summary</span>(</span>
<span id="cb48-13"><a href="presenceabsence-analysis.html#cb48-13" tabindex="-1"></a>  <span class="at">detection_df =</span> detection_df,</span>
<span id="cb48-14"><a href="presenceabsence-analysis.html#cb48-14" tabindex="-1"></a>  <span class="at">tag_list =</span> deployment_df<span class="sc">$</span>TagId</span>
<span id="cb48-15"><a href="presenceabsence-analysis.html#cb48-15" tabindex="-1"></a>)</span>
<span id="cb48-16"><a href="presenceabsence-analysis.html#cb48-16" tabindex="-1"></a></span>
<span id="cb48-17"><a href="presenceabsence-analysis.html#cb48-17" tabindex="-1"></a><span class="co"># create detection summary data frame and sort it based on last detection date</span></span>
<span id="cb48-18"><a href="presenceabsence-analysis.html#cb48-18" tabindex="-1"></a>det_summary_df <span class="ot">&lt;-</span> det_summary_df[<span class="fu">order</span>(det_summary_df<span class="sc">$</span>last_det, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb48-19"><a href="presenceabsence-analysis.html#cb48-19" tabindex="-1"></a></span>
<span id="cb48-20"><a href="presenceabsence-analysis.html#cb48-20" tabindex="-1"></a><span class="co"># create a heat-bin plot, with the bins reperesenting time periods, and the color representing the number of detections</span></span>
<span id="cb48-21"><a href="presenceabsence-analysis.html#cb48-21" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> detection_df, </span>
<span id="cb48-22"><a href="presenceabsence-analysis.html#cb48-22" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> time, </span>
<span id="cb48-23"><a href="presenceabsence-analysis.html#cb48-23" tabindex="-1"></a>           <span class="at">y =</span> <span class="fu">factor</span>(tag_id, </span>
<span id="cb48-24"><a href="presenceabsence-analysis.html#cb48-24" tabindex="-1"></a>                      det_summary_df<span class="sc">$</span>tag_id))) <span class="sc">+</span></span>
<span id="cb48-25"><a href="presenceabsence-analysis.html#cb48-25" tabindex="-1"></a>  <span class="fu">geom_bin2d</span>(<span class="at">binwidth =</span> <span class="fu">c</span>(<span class="dv">3600</span>, <span class="dv">1</span>)) <span class="sc">+</span> <span class="co"># Hour time bins</span></span>
<span id="cb48-26"><a href="presenceabsence-analysis.html#cb48-26" tabindex="-1"></a>  <span class="fu">scale_fill_continuous</span>(<span class="at">type =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span></span>
<span id="cb48-27"><a href="presenceabsence-analysis.html#cb48-27" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Time (UTC)&quot;</span>, </span>
<span id="cb48-28"><a href="presenceabsence-analysis.html#cb48-28" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Tag Id&quot;</span>) <span class="sc">+</span></span>
<span id="cb48-29"><a href="presenceabsence-analysis.html#cb48-29" tabindex="-1"></a>  <span class="fu">tag_hist_plot_theme</span>()</span></code></pre></div>
<div class="float">
<img src="images/presence_absence_detections_heat_bin.png" alt="Heat-plot of tag detections over time" />
<div class="figcaption">Heat-plot of tag detections over time</div>
</div>
</div>
<div id="show-detection-history-for-a-specific-tag" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Show Detection History for a Specific Tag<a href="presenceabsence-analysis.html#show-detection-history-for-a-specific-tag" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="presenceabsence-analysis.html#cb49-1" tabindex="-1"></a><span class="co"># selected tag is a power tag on a swamp sparrow</span></span>
<span id="cb49-2"><a href="presenceabsence-analysis.html#cb49-2" tabindex="-1"></a>selected_tag_id <span class="ot">&lt;-</span> <span class="st">&quot;1978341E&quot;</span></span>
<span id="cb49-3"><a href="presenceabsence-analysis.html#cb49-3" tabindex="-1"></a></span>
<span id="cb49-4"><a href="presenceabsence-analysis.html#cb49-4" tabindex="-1"></a><span class="co"># set your start and stop times</span></span>
<span id="cb49-5"><a href="presenceabsence-analysis.html#cb49-5" tabindex="-1"></a>plot_start_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2023-10-09 10:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;GMT&quot;</span>)</span>
<span id="cb49-6"><a href="presenceabsence-analysis.html#cb49-6" tabindex="-1"></a>plot_stop_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2023-10-11 14:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;GMT&quot;</span>)</span>
<span id="cb49-7"><a href="presenceabsence-analysis.html#cb49-7" tabindex="-1"></a></span>
<span id="cb49-8"><a href="presenceabsence-analysis.html#cb49-8" tabindex="-1"></a><span class="co"># subset the detection_df to only include the selected tag id</span></span>
<span id="cb49-9"><a href="presenceabsence-analysis.html#cb49-9" tabindex="-1"></a>tag_dets <span class="ot">&lt;-</span> <span class="fu">subset.data.frame</span>(detection_df, tag_id <span class="sc">==</span> selected_tag_id)</span>
<span id="cb49-10"><a href="presenceabsence-analysis.html#cb49-10" tabindex="-1"></a></span>
<span id="cb49-11"><a href="presenceabsence-analysis.html#cb49-11" tabindex="-1"></a><span class="co"># plot the number of detections for this specific tag at each node across time</span></span>
<span id="cb49-12"><a href="presenceabsence-analysis.html#cb49-12" tabindex="-1"></a><span class="fu">ggplot</span>(tag_dets) <span class="sc">+</span></span>
<span id="cb49-13"><a href="presenceabsence-analysis.html#cb49-13" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> time, </span>
<span id="cb49-14"><a href="presenceabsence-analysis.html#cb49-14" tabindex="-1"></a>                 <span class="at">y =</span> tag_rssi, </span>
<span id="cb49-15"><a href="presenceabsence-analysis.html#cb49-15" tabindex="-1"></a>                 <span class="at">colour =</span> node_id), </span>
<span id="cb49-16"><a href="presenceabsence-analysis.html#cb49-16" tabindex="-1"></a>             <span class="at">shape =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb49-17"><a href="presenceabsence-analysis.html#cb49-17" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">as.POSIXct</span>(plot_start_time), </span>
<span id="cb49-18"><a href="presenceabsence-analysis.html#cb49-18" tabindex="-1"></a>       <span class="fu">as.POSIXct</span>(plot_stop_time)) <span class="sc">+</span></span>
<span id="cb49-19"><a href="presenceabsence-analysis.html#cb49-19" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="fu">paste</span>(<span class="st">&quot;Detections&quot;</span>, </span>
<span id="cb49-20"><a href="presenceabsence-analysis.html#cb49-20" tabindex="-1"></a>                selected_tag_id)) <span class="sc">+</span></span>
<span id="cb49-21"><a href="presenceabsence-analysis.html#cb49-21" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Time (UTC)&quot;</span>) <span class="sc">+</span></span>
<span id="cb49-22"><a href="presenceabsence-analysis.html#cb49-22" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;RSSI (dBm)&quot;</span>) <span class="sc">+</span></span>
<span id="cb49-23"><a href="presenceabsence-analysis.html#cb49-23" tabindex="-1"></a>  <span class="fu">classic_plot_theme</span>()</span></code></pre></div>
<div class="float">
<img src="images/presence_absence_detections_over_time_specific_tag.png" alt="Heat-plot of tag detections over time" />
<div class="figcaption">Heat-plot of tag detections over time</div>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="node-calibration.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="activity-budget.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/rstudio/bookdown-demo/edit/master/06-presence-absence.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
